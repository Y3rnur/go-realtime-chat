<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset = "UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Go Realtime Chat</title>
        <link rel="stylesheet" href="style.css">
        <script defer src="script.js"></script>
    </head>
    <body>
        <div class="chat-app" id="app">
            <aside class="sidebar" id="sidebar" aria-label="Conversations">
                <!-- switch for two users. Used in development, will delete it after introducing auth/JWT -->
                <div id="dev-user" style="position:fixed;right:8px;top:8px;background:#fff;padding:6px;border:1px solid #ddd;z-index:1000;">
                    <label>Dev user:
                        <select id="dev-user-select">
                            <option value="">(default)</option>
                            <option value="3e62ced9-275f-4e96-82f1-d505730df6af">Alice</option>
                            <option value="180d9372-7722-46d5-9d96-52c2ec1cc5b1">Bob</option>
                        </select>
                    </label>
                    <button id="dev-user-apply">Use</button>
                </div>
                <header class="sidebar-header">
                    <h1 class="brand">MyChat</h1>
                    <button id="new-conv" title="New conversation">+</button>
                </header>

                <div class="search">
                    <input id="search" type="search" placeholder="Search or start new..." aria-label="Search conversations"/>
                </div>

                <ul class="conversations" id="conversations" role="list">
                    <!-- conversation items should be inserted here -->
                </ul>
            </aside>

            <main class="chat" id="chat" aria-live="polite">
                <header class="chat-header">
                    <button id="back-btn" class="back-btn" aria-hidden="true">‹</button>
                    <div class="chat-title">
                        <img class="avatar" src="" alt="" id="chat-avatar" />
                        <div>
                            <div id="chat-name" class="name">Select a conversation</div>
                            <div id="chat-sub" class="sub">—</div>
                        </div>
                    </div>
                </header>

                <section class="messages" id="messages" role="log" aria-live="polite">
                    <!-- messages are rendered here -->
                </section>

                <form id="composer" class="composer" aria-label="Message composer">
                    <input id="input-msg" type="text" placeholder="Type a message" autocomplete="off" aria-label="Type a message" />
                    <button id="send" type="submit">Send</button>
                </form>
            </main>
        </div>
    </body>
</html>